---
icon: square-small
---

# Configurando Privy

Ahora necesitamos configurar la autenticación. Para simplificar este proceso vamos a usar Privy, que es una solución super fácil para manejar wallets y autenticación en Web3.\
Primero instalamos las dependencias:

```bash
npm install @privy-io/react-auth viem wagmi @tanstack/react-query
```

Ahora crearemos un archivo de configuración para Privy dentro de la carpeta app, llamado providers.tsx:

<div align="left"><figure><img src="../.gitbook/assets/image (3) (1).png" alt=""><figcaption></figcaption></figure></div>

Y pegaremos el siguiente codigo dentro del archivo:

```tsx
'use client';

import {PrivyProvider} from '@privy-io/react-auth';

export default function Providers({children}: {children: React.ReactNode}) {
  return (
    <PrivyProvider
      appId={process.env.NEXT_PUBLIC_PRIVY_APP_ID || ''}
      config={{
        // Create embedded wallets for users who don't have a wallet
        embeddedWallets: {
          createOnLogin: 'users-without-wallets'
        }
      }}
    >
      {children}
    </PrivyProvider>
  );
}
```

Como vés, hay una parte del codigo donde nos piden un appId, esta la puedes de la siguiente manera:

1. Ve al [Dashboard de Privy](https://dashboard.privy.io/)
2.  Crea una nueva app<br>

    <figure><img src="../.gitbook/assets/image (4) (1).png" alt=""><figcaption></figcaption></figure>
3.  Pon un nombre y selecciona "Client-side"<br>

    <figure><img src="../.gitbook/assets/image (6) (1).png" alt=""><figcaption></figcaption></figure>
4.  Esto te llevará a este menú principal, mira donde dice "Retrieve API keys" y da clic en "Settings"

    <figure><img src="../.gitbook/assets/image (7) (1).png" alt=""><figcaption></figcaption></figure>
5.  Aquí encontrarás el App ID que usaremos, para cada app es diferente.

    <figure><img src="../.gitbook/assets/image (8) (1).png" alt=""><figcaption></figcaption></figure>
6. Ahora crearemos un archivo llamado .env.local en la raiz de nuestro proyecto\
   ![](<../.gitbook/assets/image (9) (1).png>)
7.  Dentro definiremos el App ID que nos dió Privy, en mi caso:<br>

    <figure><img src="../.gitbook/assets/image (12) (1).png" alt=""><figcaption></figcaption></figure>


8. Con esto ya tenemos el App ID de Privy referenciado en nuestro codigo!



Ahora iremos a `layout.tsx` y añadiremos el Provider:

```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import Providers from "./providers";  // Lo importamos
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <Providers>{children}</Providers> // Cubrimos el children entre el componente
      </body>
    </html>
  );
}

```

Desde el Dashborad de Privy puedes configurar algunas caracteristicas de como quieres que sea la conexión al sitio web, si mediante Wallets o también incluir inicios de sesión con email o redes sociales.

<figure><img src="../.gitbook/assets/image (13) (1).png" alt=""><figcaption></figcaption></figure>
